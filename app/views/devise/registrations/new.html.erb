<div style="width: 360px; margin: 0 auto; padding: 60px 0;">
  <!-- 상단 타이틀 -->
  <h2 style="
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 24px;
  ">
    会員登録
  </h2>

  <!-- SNS 계정으로 간편 로그인/회원가입 -->
  <div style="text-align: center; margin: 0 auto; font-size: 12px; color: #999; margin-bottom: 16px;">
    SNSアカウントで簡単ログイン／会員登録
  </div>
  <div style="display: flex; justify-content: center; gap: 16px; margin-bottom: 20px;">
    <%- resource_class.omniauth_providers.each do |provider| %>
      <% provider_name = case provider.to_s
        when "google_oauth2" then "Google"
        when "facebook" then "Facebook"
        else provider.to_s.titleize
      end %>
      <%= button_to omniauth_authorize_path(resource_name, provider),
            method: :post,
            data: { turbo: false },
            style: "background: transparent; border: none; padding: 0;" do %>
        <!-- 예: 구글 로고 (googleLogo.jpg) -->
        <%= image_tag asset_path("googleLogo.jpg"), alt: "#{provider_name} Sign in", style: "width: 40px; height: auto;" %>
      <% end %>
    <% end %>
  </div>

  <!-- 회원가입 폼 -->
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <!-- 에러 메시지 표시 -->
    <%= render "devise/shared/error_messages", resource: resource %>

    <!-- 이메일 입력 -->
    <div style="margin-bottom: 16px;">
      <label for="user_email_local" style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 6px;">メールアドレス</label>
      <div style="display: flex; gap: 4px;">
        <%= f.text_field :email_local,
                         required: true,
                         placeholder: "メールアドレス",
                         style: "
                           flex: 1;
                           height: 44px;
                           border: 1px solid #ccc;
                           border-radius: 4px;
                           padding: 0 10px;
                           font-size: 14px;
                         " %>
        <span style="line-height: 44px;">@</span>
        <%= f.text_field :email_domain,
                         required: true,
                         placeholder: "example.com",
                         style: "
                           flex: 1;
                           height: 44px;
                           border: 1px solid #ccc;
                           border-radius: 4px;
                           padding: 0 10px;
                           font-size: 14px;
                         " %>
      </div>
    </div>

    <!-- 비밀번호 -->
    <div style="margin-bottom: 16px;">
      <label for="user_password" style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 6px;">パスワード</label>
      <% if @minimum_password_length %>
        <p style="margin: 4px 0 8px; font-size: 12px; color: #999;">
          英字と数字を含む<%= @minimum_password_length %>文字以上のパスワードを入力してください。
        </p>
      <% end %>
      <%= f.password_field :password,
                           autocomplete: "new-password",
                           placeholder: "パスワード",
                           style: "
                             width: 100%;
                             height: 44px;
                             border: 1px solid #ccc;
                             border-radius: 4px;
                             padding: 0 10px;
                             font-size: 14px;
                           " %>
    </div>

    <!-- 비밀번호 확인 -->
    <div style="margin-bottom: 16px;">
      <label for="user_password_confirmation" style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 6px;">パスワードの確認</label>
      <%= f.password_field :password_confirmation,
                           autocomplete: "new-password",
                           placeholder: "パスワードの確認",
                           style: "
                             width: 100%;
                             height: 44px;
                             border: 1px solid #ccc;
                             border-radius: 4px;
                             padding: 0 10px;
                             font-size: 14px;
                           " %>
    </div>

    <!-- 닉네임 -->
    <div style="margin-bottom: 16px;">
      <label for="user_nickname" style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 6px;">ニックネーム</label>
      <%= f.text_field :nickname,
                       value: resource.nickname,
                       placeholder: "ニックネーム（2〜20文字）",
                       style: "
                         width: 100%;
                         height: 44px;
                         border: 1px solid #ccc;
                         border-radius: 4px;
                         padding: 0 10px;
                         font-size: 14px;
                       " %>
      <p style="font-size: 12px; color: #999; margin-top: 4px;">他のユーザーと重複しないように入力してください。（2〜20文字）</p>
    </div>

    <!-- 이용약관, 개인정보 처리방침 -->
    <div style="margin-bottom: 16px;">
      <%= f.check_box :terms_of_service, style: "margin-right: 6px;" %>
      <%= f.label :terms_of_service, "利用規約に同意します", style: "font-size: 14px; color: #333;" %>
    </div>
    <div style="margin-bottom: 24px;">
      <%= f.check_box :privacy_policy, style: "margin-right: 6px;" %>
      <%= f.label :privacy_policy, "個人情報保護方針に同意します", style: "font-size: 14px; color: #333;" %>
    </div>

    <!-- 회원가입 버튼 -->
    <div style="margin-bottom: 16px;">
      <%= f.submit "メール認証する",
            style: "
              width: 100%;
              height: 44px;
              border: none;
              border-radius: 4px;
              background-color: #0AA5FF;
              color: #fff;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
            " %>
    </div>
  <% end %>

  <!-- 로그인 링크 -->
  <div style="text-align: center; margin-top: 16px;">
    <% if controller_name != 'sessions' %>
      <%= link_to "ログイン", new_session_path(resource_name),
                  style: "color: #666; text-decoration: none; font-size: 14px;" %>
    <% end %>
  </div>
</div>
